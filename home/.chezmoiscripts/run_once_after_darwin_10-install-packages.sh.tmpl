#!/bin/sh

echo "Running install-packages.sh"

printf "${green}[10 - macOS] ${reset}"
{{- if or (lt 10 (atoi (env "SCRIPTS_START_AT"))) (env "SKIP_BREW") }}
  echo "Skip installing common macOS packages"
  exit 0
{{ else }}
  echo "Install common macOS packages"
{{- end }}

set -eufo pipefail

brew bundle --no-lock --file=/dev/stdin <<EOF
tap "buildpacks/tap"
tap "homebrew/bundle"
tap "jesseduffield/lazygit"
brew "zsh"
cask "font-meslo-for-powerlevel10k"
cask "wezterm"
cask "mac-mouse-fix"
cask "google-chrome"
cask "karabiner-elements"
cask "visual-studio-code"
cask "obsidian"
brew "act"
brew "bat"
brew "bzip2"
brew "btop"
brew "coreutils"
brew "openssl@3"
brew "git-delta"
brew "glib"
brew "curl"
brew "exiftool"
brew "fd"
brew "ffmpeg"
brew "fileicon"
brew "fpp"
brew "fzf"
brew "gallery-dl"
brew "gdu"
brew "gh"
brew "git"
brew "gnupg"
brew "graphviz"
brew "grc"
brew "htop"
brew "hyperfine"
brew "imagemagick"
brew "moreutils"
brew "mas"
brew "neovim"
brew "node"
brew "p7zip"
brew "ripgrep"
brew "rsync"
brew "tmux"
brew "tree"
brew "wget"
brew "yarn"
brew "yazi", args: ["HEAD"]
brew "yt-dlp"
brew "jesseduffield/lazygit/lazygit"
cask "docker"
cask "google-drive"
cask "teamviewer"
cask "hiddenbar"
cask "joplin"
cask "localsend"
cask "motrix"
cask "shottr"
cask "spotify"
cask "stats"
cask "the-unarchiver"
cask "upscayl"
cask "warp"
EOF
